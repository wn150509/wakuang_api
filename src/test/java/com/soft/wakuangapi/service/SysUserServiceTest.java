package com.soft.wakuangapi.service;

import com.soft.wakuangapi.dao.ConcernRepository;
import com.soft.wakuangapi.dao.SysUserRepository;
import com.soft.wakuangapi.entity.ConcernUser;
import com.soft.wakuangapi.entity.Labels;
import com.soft.wakuangapi.entity.LoginUser;
import com.soft.wakuangapi.entity.SysUser;
import com.soft.wakuangapi.utils.ResponseUtil;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.web.bind.annotation.RequestMapping;

import javax.annotation.Resource;

import java.util.List;

import static org.junit.Assert.*;
@RunWith(SpringRunner.class)
@SpringBootTest
public class SysUserServiceTest {
    @Resource
    private SysUserRepository sysUserRepository;
    @Resource
    private ConcernRepository concernService;
    @Resource
    private SysUserService sysUserService;
    @Test
    public void userLogin() throws Exception {
        SysUser sysUser = sysUserRepository.findSysUserByEmail("111");
        //邮箱有效
        if (sysUser != null) {
            //判断密码是否正确
            if ("111".equals(sysUser.getPassword())) {
                System.out.println(new ResponseUtil(0, "login success", sysUser));
            } else {
                System.out.println(new ResponseUtil(1, "password wrong"));
            }
        } else {
            System.out.println(new ResponseUtil(1, "account wrong"));
        }
    }

    @Test
    public void getUser() throws Exception {
        String base64="data:image/jpeg;base64,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";
        System.out.println(sysUserService.getUser("123",base64));
    }

}